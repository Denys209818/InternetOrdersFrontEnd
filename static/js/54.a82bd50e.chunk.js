"use strict";(self.webpackChunkinternetordersfrondend=self.webpackChunkinternetordersfrondend||[]).push([[54],{54:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var s=a(43),l=a(899);const r=(0,l.Ik)().shape({email:(0,l.Yj)().email("\u041d\u0435 \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0430 E-mail").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435!"),password:(0,l.Yj)().required("\u041f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435!").min(6,"\u041f\u0430\u0440\u043e\u043b\u044c \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432")});var o=a(3);const n=o.d4,i=o.wA;var c=a(475);const d=(0,l.Ik)().shape({email:(0,l.Yj)().email("\u041d\u0435 \u043a\u043e\u0440\u0435\u043a\u0442\u043d\u0430 E-mail").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435!"),firstName:(0,l.Yj)().required("\u041f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435!"),secondName:(0,l.Yj)().required("\u041f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435!"),password:(0,l.Yj)().required().min(6,"\u041f\u0430\u0440\u043e\u043b\u044c \u043c\u0430\u0454 \u043c\u0456\u0441\u0442\u0438\u0442\u0438 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432")});var u=a(579);const m=e=>{let{title:t="",background:a="transparent",image:s="",sizeBtn:l="small",additionalImage:r="",type:o="button",disabled:n=!1,onClickHandler:i}=e;const c={transparent:{background:"transparent",color:"black"},black:{background:"bg-black",color:"text-white"},white:{background:"bg-white",color:"text-black"},huge:"px-6 py-5 w-full",small:"p-2 size-10",google:{additionalImage:"bg-[url('/src/images/EnterIcon.svg')]"}},d=`block border disabled:bg-[#9AA5B1] disabled:border-0  hover:bg-[#BBEE85] outline-black transition duration-300 ease-in-outborder-black ${c[a].background} ${c[l]}`;return(0,u.jsxs)("button",{type:o,className:d,onClick:i,disabled:n,children:[t&&(0,u.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,u.jsx)("p",{className:`block text-xl text-nowrap ${c[a].color}`,children:t}),r&&(0,u.jsx)("div",{className:"relative block size-6",children:(0,u.jsx)("div",{className:`absolute block size-full ${c[r].additionalImage} bg-cover`})})]}),s&&(0,u.jsx)("div",{className:"relative block w-full pb-[100%]",children:(0,u.jsx)("div",{className:"absolute block size-full bg-[url('/src/images/Back.svg')] bg-cover"})})]})};var p=a(139),b=a.n(p);const g=e=>{let{type:t,placeholder:a,name:s,value:l,setValue:r,errors:o}=e;const n=o.length>0;return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{type:t,placeholder:a,name:s,id:s,value:l,onChange:e=>r(e.target.value),className:b()("block size-full px-6 py-5 bg-white font-lato font-medium font-base text-[#525A63] outline-none focus:border-2 focus:border-black ",{"border-2 border-[#E4E7EE]":!n},{"border-2 border-[#B20508]":n})}),n&&(0,u.jsx)("p",{className:"font-medium font-lato text-sm pl-4",children:o[0]})]})};var x=a(950);const h=(0,s.forwardRef)(((e,t)=>{const[a,l]=(0,s.useState)(""),[r,o]=(0,s.useState)(""),[n,i]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),p=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,(()=>({showModal:e=>{let{title:t,description:a,leftBtnText:s,rightBtnText:r}=e;p.current&&(l(t),o(a||""),i(s),d(r),p.current.showModal())},hideModal:()=>{p.current&&p.current.close()}})));const b=()=>{p.current&&p.current.close()};return(0,x.createPortal)((0,u.jsx)("dialog",{ref:p,className:"absolute top-1/2 left-1/2 translate-y-[-50%] translate-x-[-50%] border border-2 bg-white p-10 backdrop:bg-black/40 w-max",children:(0,u.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,u.jsx)("div",{className:"block w-32",children:(0,u.jsx)("div",{className:"relative block size-full pb-[77%]",children:(0,u.jsx)("div",{className:"absolute size-full bg-[url('/src/images/Hendcheese.svg')] bg-cover"})})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"block uppercase font-oswald font-medium tracking-tighter text-3xl",children:a}),r&&(0,u.jsx)("p",{className:"block pt-2 text-[#525A63] font-semibold font-base font-lato",children:r})]}),(0,u.jsxs)("div",{className:"grid grid-cols-2 gap-x-3",children:[(0,u.jsx)(m,{sizeBtn:"huge",title:n,background:"white",onClickHandler:b}),(0,u.jsx)(m,{sizeBtn:"huge",title:c,background:"black",onClickHandler:b})]})]})}),document.getElementsByTagName("body")[0])}));const f=(0,a(95).X1)((e=>{let{inputRef:t,...a}=e;const{type:s,placeholder:l,name:r,value:o,setValue:n}=a;return(0,u.jsx)("input",{ref:t,type:s,placeholder:l,autoComplete:"off",name:r,id:r,value:o,onChange:e=>n(e.target.value),className:"block size-full px-6 py-5 bg-white font-lato font-medium font-base text-[#525A63] outline-none border-2 border-[#E4E7EE] focus:border-2 focus:border-black "})})),j=()=>{const[e,t]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[o,p]=(0,s.useState)({}),[b,j]=(0,s.useState)(""),[v,k]=(0,s.useState)(""),[N,w]=(0,s.useState)(""),y=(0,s.useRef)(),[B,E]=(n((e=>e.auth)),i(),(0,c.ok)()),z=B.get("mode"),S="block font-normal font-lato text-xl",C={login:{title:"\u0423\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442",description:"\u0429\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0437\u043d\u0438\u0436\u043a\u0438, \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0456\u0441\u0442\u043e\u0440\u0456\u0457 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c, \u0448\u0432\u0438\u0434\u043a\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043f\u0440\u043e\u0444\u0456\u043b\u044e \u0442\u0430 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"},register:{title:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0439\u0442\u0435\u0441\u044c",description:"\u0429\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0437\u043d\u0438\u0436\u043a\u0438, \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0456\u0441\u0442\u043e\u0440\u0456\u0457 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c, \u0448\u0432\u0438\u0434\u043a\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043f\u0440\u043e\u0444\u0456\u043b\u044e \u0442\u0430 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u044c"},phone:{title:"\u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",description:"\u0429\u043e\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044e"}},I=e=>{p((t=>({...t,[e]:[]})))};return(0,u.jsxs)("main",{className:"block pt-6 px-10 pb-20",children:[(0,u.jsx)("section",{children:(0,u.jsx)(m,{image:"Back.svg",background:"transparent"})}),(0,u.jsxs)("section",{children:[(0,u.jsx)("div",{className:"grid grid-cols-12 gap-x-5 size-full",children:(0,u.jsxs)("div",{className:"col-start-5 col-end-9",children:[(0,u.jsx)("h1",{className:"uppercase font-medium tracking-tight font-oswald text-3xl",children:C[z].title}),(0,u.jsx)("p",{className:"block pt-2 font-semibold text-base font-lato text-[#525A63]",children:C[z].description}),(0,u.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),t.stopPropagation();try{if("login"!==z&&"register"!==z&&"phone"!==z)return;if("login"===z){await r.validate({email:e,password:a},{abortEarly:!1});y.current&&y.current.showModal({title:"\u0417 \u043f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u043d\u044f\u043c!",leftBtnText:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438 \u043f\u0440\u043e\u0444\u0456\u043b\u044c",rightBtnText:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"})}else if("register"===z){await d.validate({email:e,password:a,firstName:b,secondName:v},{abortEarly:!1});const t=new URLSearchParams(B.toString());t.set("mode","phone"),E(t.toString())}else if("phone"===z){await r.validate({firstName:b,secondName:v,email:e,password:a});10===N.replace(/\D/g,"").slice(2).length&&y.current&&y.current.showModal({title:"\u0423\u0441\u043f\u0456\u0445! \u041a\u0430\u0440\u0442\u043e\u043f\u043b\u044f \u0444\u0440\u0456 \u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0456",description:"\u0412\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u043b\u0438\u0441\u044c! \u0422\u0435\u043f\u0435\u0440 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u0443\u0441\u0456\u043c\u0430 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0430\u043c\u0438 \u0432\u0430\u0448\u043e\u0433\u043e \u0430\u043a\u0430\u0443\u043d\u0442\u0430.",leftBtnText:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438 \u043f\u0440\u043e\u0444\u0456\u043b\u044c",rightBtnText:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"})}}catch(s){const e={};s.inner.forEach((t=>{t.path&&(e[t.path]=t.errors)})),p(e)}},children:[(0,u.jsxs)("div",{className:"flex flex-col gap-3 pt-6",children:["register"===z&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(g,{value:b,placeholder:"\u0406\u043c'\u044f",type:"text",name:"firstName",setValue:e=>{j(e),I("firstName")},errors:o.firstName||[]}),(0,u.jsx)(g,{value:v,placeholder:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",type:"text",name:"secondName",setValue:e=>{k(e),I("secondName")},errors:o.secondName||[]})]}),"phone"!==z&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(g,{value:e,placeholder:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043f\u043e\u0448\u0442\u0430",type:"text",name:"email",setValue:e=>{t(e),I("email")},errors:o.email||[]}),(0,u.jsx)(g,{value:a,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",setValue:e=>{l(e),I("password")},errors:o.password||[]})]}),"phone"===z&&(0,u.jsx)(f,{value:N,placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",type:"text",name:"phone",mask:"+38 000 000 00 00",setValue:e=>{w(e),I("phone")},errors:o.phone||[]})]}),"login"===z&&(0,u.jsx)("p",{className:"block pt-1 text-right font-medium text-base font-lato",children:"\u0417\u0430\u0431\u0443\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),(0,u.jsxs)("div",{className:"flex flex-col gap-3 pt-6",children:[("login"===z||"register"===z)&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(m,{title:"\u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0438\u0442\u0438",type:"submit",sizeBtn:"huge",background:"black"}),(0,u.jsx)(m,{title:"\u0423\u0432\u0456\u0439\u0442\u0438 \u0437",sizeBtn:"huge",background:"white",additionalImage:"google"})]}),"phone"===z&&(0,u.jsx)(m,{title:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438",type:"submit",sizeBtn:"huge",background:"black",disabled:!N})]})]}),"phone"!==z&&(0,u.jsxs)("div",{className:"flex pt-6 gap-2 justify-center",children:[(0,u.jsx)("p",{className:S,children:"\u041d\u0435\u043c\u0430\u0454 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"}),(0,u.jsx)(c.N_,{className:S,to:`/auth?mode=${{login:"register",register:"login"}[z]}`,children:"login"===z?"\u0417\u0430\u0440\u0435\u0454\u0435\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f":"\u0423\u0432\u0456\u0439\u0442\u0438"})]})]})}),(0,u.jsx)(h,{ref:y}),(0,x.createPortal)((0,u.jsx)("div",{className:"fixed left-[100%] top-negative-top translate-x-negative translate-y-[-100%]  w-52",children:(0,u.jsxs)("div",{className:"relative flex flex-col gap-2 w-full",children:[(0,u.jsx)("div",{className:"block px-10 w-full",children:(0,u.jsx)("div",{className:"relative block w-full pb-[169%]",children:(0,u.jsx)("div",{className:"absolute size-full bg-[url('/src/images/Patato.svg')] bg-cover"})})}),(0,u.jsx)("p",{className:"block font-normal font-base font-oswald text-center",children:"\u041f\u0441\u0441...\u041a\u0430\u0440\u0442\u043e\u043f\u043b\u044f \u0444\u0440\u0456 \u0432\u0436\u0435 \u0447\u0435\u043a\u0430\u0454!"})]})}),document.body)]})]})}}}]);
//# sourceMappingURL=54.a82bd50e.chunk.js.map